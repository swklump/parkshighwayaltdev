{% extends "_base_interchanges.html" %} {% load static %} {% block content %}
<!doctype html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" type="text/css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin="">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" type="text/css">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" type="text/javascript"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""></script>

    <script src="{% static '/js/map_functions.js' %}" type="text/javascript"></script>
    <link rel="stylesheet" href="{% static '/css/leaflet.legend.css' %}" type="text/css">
    <script src="{% static '/js/leaflet.legend.js' %}" type="text/javascript"></script>

    <link href= "{% static '/css/leaflet.fullscreen.css' %}" rel='stylesheet' type="text/css"/>
    <script src= "{% static '/js/Leaflet.fullscreen.min.js' %}" type="text/javascript"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js" type="text/javascript"></script>

    <script type="text/javascript">
      window.onload = function () {
        // Send email to hidden form
        var email = localStorage.getItem('email_key');
        document.getElementById('email').value = email;
      }
    </script>
    
    <style>
      /* Circles with numbers */
      span.circle {
        background: #007BFF;
        border-radius: 50%;
        -moz-border-radius: 50%;
        -webkit-border-radius: 50%;
        color: white;
        display: inline-block;
        font-weight: bold;
        line-height: 30px;
        margin-bottom: 5px;
        margin-right: 5px;
        text-align: center;
        width: 30px;
      }

      @media screen and (max-width: 767px) {
        input, select, textarea {
          font-size: 16px;
        }
      }
    </style>

  </head>

  <body>
    <div class="container">
      <div class="row align-items-top my-5">
        <p></p>
        <h2 class="font-weight-light">Alternative Development Workshop</h2>
        <h4 class="text-muted">Interchange Locations</h2>

        <form method="POST" enctype="multipart/form-data">
          Please provide responses to the questions below.
          <p></p>
          <button class="btn btn-primary" type="submit" >Submit Responses</button>
          <p></p><br>

          <!-- Retrieve email from session storage -->
          <input
          type="hidden"
          name="email"
          id="email"
          style="width: 300"
          />

          <!-- Add form for map points -->
          <input
          type="hidden"
          name="latlons"
          id="latlons"
          style="width: 300"
          />

          <!-- Add form for text input -->
          <input
          type="hidden"
          name="textinput"
          id="textinput"
          style="width: 300"
          >

          <span class="circle">1</span><b>Where should interchanges go?</b><br>
          Add markers to the map below.
      </div>

      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-6">
          <div class="card bg-light">
            <div class="card-body">
              <h5 class="card-title">Directions for Map Use</h5><p></p>
              <h6 class="card-subtitle mb-1 text-muted">Zoom and pan</h6>
              <p class="card-text">Use your mouse wheel or pinch your fingers to zoom in and out of the map. Click (or tap) and drag or anywhere in the map
                to pan.
              <h6 class="card-subtitle mb-1 text-muted">Add an interchange.</h6>
              <p class="card-text">Click or tap points on the map.
              <h6 class="card-subtitle mb-1 text-muted">Delete an interchange</h6>
              <p class="card-text">Click or tap on the existing interchange, then click or tap the "Delete marker" button.
              <h6 class="card-subtitle mb-1 text-muted">Add text input</h6>
              <p class="card-text">Click or tap on the existing interchange, add text to the field, then click the "Save text" button.
              <h6 class="card-subtitle mb-1 text-muted">Move an interchange</h6>
              <p class="card-text">Delete the existing interchange and create a new one. The new interchange number will be the same as
                the one deleted.
            </div>
          </div>
          <p></p>
        </div>

        <div class="col-xs-12 col-sm-12 col-md-6">
          <div id="map" style="height: 525px">
            <script src="{% static '/js/interchanges.js' %}" type="text/javascript"></script>
          </div>
          <button class="btn btn-danger float-end" type="button" onclick="clear_map()">Clear Map</button>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-6">
          <button class="btn btn-primary" type="submit">Submit Responses</button>
          <p></p>
          </form>
          <p></p>
          For questions on the survey, please email Sam Klump at
          <a href={{email_link}} class="card-link">{{email}}</a>.
          <div class="row">
            <div class="col-xs-3 col-sm-3 col-md-3">
              <img class="img-fluid rounded" src="{% static '/img/dot_logo.jpg' %}" alt="">
            </div>
            <div class="col-xs-3 col-sm-3 col-md-3">
              <br><br>
              <img class="img-fluid rounded" src="{% static '/img/dowl_logo.jpg' %}" alt="">
            </div>
            <div class="col-xs-6 col-sm-6 col-md-6">
            </div>
          </div>
          <p></p>
        </div>
          
      </div>
    </div>
  </body>

</html>
{% endblock content %}
